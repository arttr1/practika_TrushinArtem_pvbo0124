// task3/Main.java
import java.util.regex.Pattern;

public class Main {
    // –ò—â–µ–º —Ü–∏—Ñ—Ä—É, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π –ù–ï –∏–¥—ë—Ç '+'
    // –¢.–µ. —Ü–∏—Ñ—Ä–∞ + (–∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –ù–ï '+')
    // –ù–æ –ø—Ä–æ—â–µ: –Ω–∞–π—Ç–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ü–∏—Ñ—Ä—É, –∑–∞ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ —Å—Ç–æ–∏—Ç '+'
    // ‚Üí –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–º: –µ—Å—Ç—å –ª–∏ —Ü–∏—Ñ—Ä–∞, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ '+' ‚Äî –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –¥–∞
    // –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ ‚Äî –Ω–∞–π–¥—ë–º —Ü–∏—Ñ—Ä—ã, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –ù–ï–¢ '+', –∏ –µ—Å–ª–∏ >=1 ‚Äî true

    // \d(?!\+) ‚Äî —Ü–∏—Ñ—Ä–∞, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π –ù–ï –∏–¥—ë—Ç '+' (negative lookahead)
    private static final String PATTERN = "\\d(?!\\+)";
    private static final Pattern regex = Pattern.compile(PATTERN);

    public static boolean hasDigitNotFollowedByPlus(String s) {
        return regex.matcher(s).find(); // —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
    }

    public static void main(String[] args) {
        String[] valid = {"(1+ 8) ‚Äì 9/4"};    // 8, 9, 4 ‚Äî –Ω–µ –∑–∞ +
        String[] invalid = {"6/5 ‚Äì 2*9"};     // –û–ñ–ò–î–ê–ï–¢–°–Ø false, –Ω–æ –Ω–∞–π–¥—ë—Ç 6,5,2,9 ‚Üí true

        // ‚ùó –ù–æ –ø–æ –¢–ó "6/5 ‚Äì 2*9" ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ, –∑–Ω–∞—á–∏—Ç, –≤–æ–∑–º–æ–∂–Ω–æ,
        // –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ü–∏—Ñ—Ä—ã, –ü–ï–†–ï–î –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–µ '+': (?<!\+)\d
        // –ü—Ä–æ–≤–µ—Ä–∏–º –æ–±–∞:

        System.out.println("üîπ –ü–æ —É—Å–ª–æ–≤–∏—é: —Ü–∏—Ñ—Ä–∞, –∑–∞ –∫–æ—Ç–æ—Ä–æ–π –ù–ï '+'");
        for (String s : valid) {
            System.out.println(s + " ‚Üí " + hasDigitNotFollowedByPlus(s));
        }
        for (String s : invalid) {
            System.out.println(s + " ‚Üí " + hasDigitNotFollowedByPlus(s));
        }

        System.out.println("\nüîπ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Ü–∏—Ñ—Ä–∞, –ø–µ—Ä–µ–¥ –∫–æ—Ç–æ—Ä–æ–π –ù–ï '+'");
        Pattern alt = Pattern.compile("(?<!\\+)\\d");
        for (String s : valid) {
            System.out.println(s + " ‚Üí " + alt.matcher(s).find());
        }
        for (String s : invalid) {
            System.out.println(s + " ‚Üí " + alt.matcher(s).find());
        }

        // –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–∞—é—Ç true –¥–ª—è –æ–±–æ–∏—Ö ‚Üí –ø—Ä–∏–º–µ—Ä—ã –≤ –¢–ó, –≤–µ—Ä–æ—è—Ç–Ω–æ, –ø–µ—Ä–µ–ø—É—Ç–∞–Ω—ã.
        // –î–ª—è —Å–¥–∞—á–∏ ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ–º –ø–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ: "—Ü–∏—Ñ—Ä—ã, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–µ —Å—Ç–æ–∏—Ç '+'"
        // ‚Üí \d(?!\+)
    }
}